"use strict";function _classCallCheck(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),Hata=function(){function a(t,e,n,o,r,i){_classCallCheck(this,a),this.res=t,this.dom=e,this.data=n,this.el=$(this.res),void 0==o&&(o=function(){return!1}),this.events=o,this.dataurl=r,this.interval=i,this.dataloaded=!1,this.domloaded=!1,this.init()}return _createClass(a,[{key:"init",value:function(){var a=this;a.loadTmpl(),a.loadData(),void 0!=a.interval&&setInterval(function(){a.loadData(),a.render()},a.interval)}},{key:"render",value:function(){var a=this;if(a.dataloaded&&a.domloaded){if(Array.isArray(a.data)){a.el.html("");for(var t in a.data){var t=a.data[t];a.el.append(a.setData(t,a.dom))}}else a.el.html(a.setData(a.data,a.dom));a.events()}else setTimeout(function(){console.log([a.dataloaded,a.domloaded]),a.render()},500);return a}},{key:"change",value:function(a){this.data=a,this.render()}},{key:"setData",value:function(a,t){for(var e in a)t=t.replace(new RegExp("{{"+e+"}}","g"),a[e]);return t}},{key:"loadTmpl",value:function(){var a=this;a.getData("/"+a.dom+".html",function(t){a.dom=t.responseText,a.domloaded=!0},function(){a.domloaded=!0})}},{key:"loadData",value:function(){var a=this;void 0!=this.dataurl?a.getData(this.dataurl,function(t){a.data=JSON.parse(t.responseText),a.dataloaded=!0}):a.dataloaded=!0}},{key:"getData",value:function(a,t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200==n.status?t(n):void 0!=e&&e())},n.open("GET",a,!0),n.send()}}]),a}();