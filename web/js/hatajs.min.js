"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),Hata=function(){function t(e,a,n,i,r,l){_classCallCheck(this,t),this.res=e,this.res instanceof jQuery?this.el=e:this.el=$(this.res),this.res=e,this.dom=a,this.data=n,void 0==i&&(i=function(){return!1}),this.events=i,this.dataurl=r,this.interval=l,this.dataloaded=!1,this.domloaded=!1,this.html="",this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;t.loadTmpl(),t.loadData(),void 0!=t.interval&&setInterval(function(){t.loadData(),t.render()},t.interval)}},{key:"render",value:function(){var t=this;if(t.dataloaded&&t.domloaded){if(Array.isArray(t.data)){t.el.html("");for(var e in t.data){var e=t.data[e];t.el.append(t.setData(e,t.html))}}else t.el.html(t.setData(t.data,t.html));t.events()}else setTimeout(function(){t.render()},100);return t}},{key:"rerender",value:function(){this.dataloaded=!1,this.domloaded=!1,this.loadTmpl(),this.loadData(),this.render()}},{key:"setData",value:function(t,e){for(var a in t)e=e.replace(new RegExp("{{"+a+"}}","g"),t[a]);return e}},{key:"loadTmpl",value:function(){var t=this;t.getData("/"+t.dom+".html",function(e){t.html=e.responseText,t.domloaded=!0},function(){t.domloaded=!0,t.html=t.dom})}},{key:"loadData",value:function(){var t=this;void 0!=this.dataurl?t.getData(this.dataurl,function(e){t.data=JSON.parse(e.responseText),t.dataloaded=!0}):t.dataloaded=!0}},{key:"getData",value:function(t,e,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200==n.status?e(n):void 0!=a&&a())},n.open("GET",t,!0),n.send()}}]),t}();