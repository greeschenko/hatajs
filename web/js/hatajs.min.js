"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),Hata=function(){function t(e,a,n,r,i,s){_classCallCheck(this,t),this.res=e,this.dom=a,this.data=n,this.el=$(this.res),void 0==r&&(r=function(){return!1}),this.events=r,this.dataurl=i,this.interval=s,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;t.loadTmpl(),t.loadData(),void 0!=t.interval&&setInterval(function(){t.loadData(),t.render()},t.interval)}},{key:"render",value:function(){var t=this;if(Array.isArray(t.data)){t.el.html("");for(var e in t.data){var e=t.data[e];t.el.append(t.setData(e,t.dom))}}else t.el.html(t.setData(t.data,t.dom));return t.events(),t}},{key:"change",value:function(t){this.data=t,this.render()}},{key:"setData",value:function(t,e){for(var a in t)e=e.replace(new RegExp("{{"+a+"}}","g"),t[a]);return e}},{key:"loadTmpl",value:function(){var t=this;t.getData("/"+t.dom+".html",function(e){t.dom=e.responseText,t.render()})}},{key:"loadData",value:function(){var t=this;void 0!=this.dataurl&&t.getData(this.dataurl,function(e){t.data=JSON.parse(e.responseText),t.render()})}},{key:"getData",value:function(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&200==a.status&&e(a)},a.open("GET",t,!0),a.send()}}]),t}();